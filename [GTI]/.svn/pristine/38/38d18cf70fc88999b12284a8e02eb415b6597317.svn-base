local skins = {
	--{ "Skin Name", Skin Cost, ID}
	{ "CJ", 250, 0},
	{ "The Truth", 200, 1},
	{ "Maccer", 200, 2},
	{ "Emmet", 200, 302},
	{ "Andre", 200, 303},
	{ "Denise", 300, 195},
	{ "Barbara", 300, 190},
	{ "Helena", 300, 191},
	{ "Michelle", 300, 192},
	{ "Katie", 300, 193},
	{ "Millie", 300, 194},
	{ "Mike Toreno", 200, 295},
	{ "Janitor", 200, 309},
	{ "Golfer", 200, 37},
	{ "Cesar", 200, 292},
	{ "Catalina", 200, 298},
	{ "Fresh Prince", 200, 20},
	{ "Drug Dealer 1", 200, 28},
	{ "Drug Dealer 2", 200, 29},
	{ "Drug Dealer 3", 200, 30},
	{ "Old Retiree", 200, 62},
	{ "Hobo 1", 200, 230},
	{ "Hobo 2", 200, 137},
	{ "Hot Chick", 200, 91},
	{ "Business Chick", 200, 150},
	{ "Rollerskater", 200, 92},
	{ "Beachboy", 200, 97},
	{ "Beachbabe 1", 200, 138},
	{ "Beachbabe 2", 200, 139},
	{ "Beachbabe 3", 200, 140},
	{ "Beachbabe 4", 200, 145},
	{ "Cluade", 2000, 299},
	{ "Big Bear", 200, 310},
	{ "PIMP", 200, 296},
	{ "Big Smoke 1", 200, 269},
	{ "Big Smoke 2", 200, 311},
	{ "Sweet", 200, 270},
	{ "Ryder 1", 200, 271},
	{ "Ryder 2", 200, 300},
	{ "Ryder 3", 200, 301},
	{ "Kendl", 200, 65},
	{ "Officer Tenpenny", 200, 265},
	{ "Kung Fu King", 200, 49},
	{ "Scientist", 200, 70},
	{ "Elvis", 200, 82},
	{ "Hill Billy", 200, 160},
	{ "Shirtless Pedestrian", 200, 19},
	{ "Grove St. Member 1", 150, 105},
	{ "Grove St. Member 2", 150, 106},
	{ "Grove St. Member 3", 150, 107},
	{ "Ballas. Member 1", 150, 102},
	{ "Ballas Member 2", 150, 103},
	{ "Ballas Member 3", 150, 104},
	{ "Vagos Member 1", 150, 108},
	{ "Vagos Member 2", 150, 109},
	{ "Vagos Member 3", 150, 110},
	{ "Aztecas Member 1", 150, 114},
	{ "Aztecas Member 2", 150, 115},
	{ "Aztecas Member 3", 150, 116},
	{ "Russian Mafia Member 1", 150, 111},
	{ "Russian Mafia Member 2", 150, 112},
	{ "Russian Mafia Member 3", 150, 113},
	{ "Rifa Member 1", 150, 173},
	{ "Rifa Member 2", 150, 174},
	{ "Rifa Member 3", 150, 175},
	{ "Triads Member 3", 150, 117},
	{ "Triads Member 3", 150, 118},
	{ "Triads Member 3", 150, 120},
	{ "Da Nag Member 3", 150, 121},
	{ "Da Nag Member 3", 150, 122},
	{ "Da Nag Member 3", 150, 123},
	{ "Prostitute 1", 200, 152},
	{ "Prostitute 2", 200, 237},
	{ "Prostitute 3", 200, 238},
	{ "Prostitute 4", 200, 243},
	{ "Prostitute 5", 200, 207},
	{ "Prostitute 6", 200, 245},
	{ "Prostitute 7", 200, 85},
	{ "Prostitute 8", 200, 64},
	{ "Prostitute 9", 200, 63},
	{ "Stripper 1", 200, 244},
	{ "Stripper 2", 200, 246},
	{ "Stripper 3", 200, 256},
	{ "Stripper 4", 200, 257},
	{ "Fire Crotch", 200, 87},
	{ "Whore", 200, 178},
	{ "Clukin Bell Boy", 200, 167},
	{ "Burger Shot Chick", 200, 205},
	{ "Clown", 200, 264},
	{ "Underwear Dude", 200, 252},
}

--Binco
local store1 = {
	{207.778, -100.608, 1004.257, 0, 15, 51, 204, 255},
	{207.778, -100.608, 1004.257, 1, 15, 51, 204, 255},
	{207.778, -100.608, 1004.257, 2, 15, 51, 204, 255},
	{207.778, -100.608, 1004.257, 3, 15, 51, 204, 255}
}

--ProLaps
local store2 = {
	{207.111, -130.548, 1002.507, 0, 3, 51, 204, 255},
	{207.111, -130.548, 1002.507, 1, 3, 51, 204, 255},
	{207.111, -130.548, 1002.507, 2, 3, 51, 204, 255},
	{207.111, -130.548, 1002.507, 3, 3, 51, 204, 255}
}

--Victim
local store3 = {
	{206.871, -5.484, 1000.210, 0, 5, 51, 204, 255},
	{206.871, -5.484, 1000.210, 1, 5, 51, 204, 255},
	{206.871, -5.484, 1000.210, 2, 5, 51, 204, 255},
	{206.871, -5.484, 1000.210, 3, 5, 51, 204, 255}
}

--SubUrban
local store4 = {
	{203.803, -44.715, 1000.804, 0, 1, 51, 204, 255},
	{203.803, -44.715, 1000.804, 1, 1, 51, 204, 255},
	{203.803, -44.715, 1000.804, 2, 1, 51, 204, 255},
	{203.803, -44.715, 1000.804, 3, 1, 51, 204, 255}
}

--Zip
local store5 = {
	{161.394, -85.630, 1000.804, 0, 18, 51, 204, 255},
	{161.394, -85.630, 1000.804, 1, 18, 51, 204, 255},
	{161.394, -85.630, 1000.804, 2, 18, 51, 204, 255},
	{161.394, -85.630, 1000.804, 3, 18, 51, 204, 255}
}

--DS
local store6 = {
	{204.715, -160.182, 999.523, 0, 14, 51, 204, 255},
	{204.715, -160.182, 999.523, 1, 14, 51, 204, 255},
	{204.715, -160.182, 999.523, 2, 14, 51, 204, 255},
	{204.715, -160.182, 999.523, 3, 14, 51, 204, 255}
}

    setTimer (
        function ( )
            for _,v in ipairs ( store1 ) do
                local x, y, z, dimension, interior, r, g, b = unpack ( v )
                local skinSMarkers1 = createMarker ( x, y, z, "cylinder", 1, r, g, b, 150 )
                setElementInterior ( skinSMarkers1, interior )
				setElementDimension ( skinSMarkers1, dimension)
                addEventHandler ( "onClientMarkerHit", skinSMarkers1, openSkinShopWindow1, false )
            end
        end, 1000, 1
    )

    function openSkinShopWindow1( hitElement )
        if getElementType(hitElement) == "player" and (hitElement == localPlayer) then
            if not guiGetVisible(skinShopListWindow) then
                guiSetVisible( skinShopListWindow, true )
                showCursor( true, true )
				triggerServerEvent( "produceSkinViewer1", localPlayer)
            end
        end
    end

    setTimer (
        function ( )
            for _,v in ipairs ( store2 ) do
                local x, y, z, dimension, interior, r, g, b = unpack ( v )
                local skinSMarkers2 = createMarker ( x, y, z, "cylinder", 1, r, g, b, 150 )
                setElementInterior ( skinSMarkers2, interior )
				setElementDimension ( skinSMarkers2, dimension)
                addEventHandler ( "onClientMarkerHit", skinSMarkers2, openSkinShopWindow2, false )
            end
        end, 1000, 1
    )

    function openSkinShopWindow2( hitElement )
        if getElementType(hitElement) == "player" and (hitElement == localPlayer) then
            if not guiGetVisible(skinShopListWindow) then
                guiSetVisible( skinShopListWindow, true )
                showCursor( true, true )
				triggerServerEvent( "produceSkinViewer2", localPlayer)
            end
        end
    end

	    setTimer (
        function ( )
            for _,v in ipairs ( store3 ) do
                local x, y, z, dimension, interior, r, g, b = unpack ( v )
                local skinSMarkers3 = createMarker ( x, y, z, "cylinder", 1, r, g, b, 150 )
                setElementInterior ( skinSMarkers3, interior )
				setElementDimension ( skinSMarkers3, dimension)
                addEventHandler ( "onClientMarkerHit", skinSMarkers3, openSkinShopWindow3, false )
            end
        end, 1000, 1
    )

    function openSkinShopWindow3( hitElement )
        if getElementType(hitElement) == "player" and (hitElement == localPlayer) then
            if not guiGetVisible(skinShopListWindow) then
                guiSetVisible( skinShopListWindow, true )
                showCursor( true, true )
				triggerServerEvent( "produceSkinViewer3", localPlayer)
            end
        end
    end

	    setTimer (
        function ( )
            for _,v in ipairs ( store4 ) do
                local x, y, z, dimension, interior, r, g, b = unpack ( v )
                local skinSMarkers4 = createMarker ( x, y, z, "cylinder", 1, r, g, b, 150 )
                setElementInterior ( skinSMarkers4, interior )
				setElementDimension ( skinSMarkers4, dimension)
                addEventHandler ( "onClientMarkerHit", skinSMarkers4, openSkinShopWindow4, false )
            end
        end, 1000, 1
    )

    function openSkinShopWindow4( hitElement )
        if getElementType(hitElement) == "player" and (hitElement == localPlayer) then
            if not guiGetVisible(skinShopListWindow) then
                guiSetVisible( skinShopListWindow, true )
                showCursor( true, true )
				triggerServerEvent( "produceSkinViewer4", localPlayer)
            end
        end
    end

    setTimer (
        function ( )
            for _,v in ipairs ( store5 ) do
                local x, y, z, dimension, interior, r, g, b = unpack ( v )
                local skinSMarkers5 = createMarker ( x, y, z, "cylinder", 1, r, g, b, 150 )
                setElementInterior ( skinSMarkers5, interior )
				setElementDimension ( skinSMarkers5, dimension)
                addEventHandler ( "onClientMarkerHit", skinSMarkers5, openSkinShopWindow5, false )
            end
        end, 1000, 1
    )

    function openSkinShopWindow5( hitElement )
        if getElementType(hitElement) == "player" and (hitElement == localPlayer) then
            if not guiGetVisible(skinShopListWindow) then
                guiSetVisible( skinShopListWindow, true )
                showCursor( true, true )
				triggerServerEvent( "produceSkinViewer5", localPlayer)
            end
        end
    end

    setTimer (
        function ( )
            for _,v in ipairs ( store6 ) do
                local x, y, z, dimension, interior, r, g, b = unpack ( v )
                local skinSMarkers6 = createMarker ( x, y, z, "cylinder", 1, r, g, b, 150 )
                setElementInterior ( skinSMarkers6, interior )
				setElementDimension ( skinSMarkers6, dimension)
                addEventHandler ( "onClientMarkerHit", skinSMarkers6, openSkinShopWindow6, false )
            end
        end, 1000, 1
    )

    function openSkinShopWindow6( hitElement )
        if getElementType(hitElement) == "player" and (hitElement == localPlayer) then
            if not guiGetVisible(skinShopListWindow) then
                guiSetVisible( skinShopListWindow, true )
                showCursor( true, true )
				triggerServerEvent( "produceSkinViewer6", localPlayer)
            end
        end
    end

local screenW, screenH = guiGetScreenSize()
skinShopListWindow = guiCreateWindow(screenW - 287 - 10, (screenH - 515) / 2, 287, 515, "CRP - Skin Center", false)
guiWindowSetSizable(skinShopListWindow, false)
guiWindowSetMovable(skinShopListWindow, false)
guiSetVisible(skinShopListWindow, false)

label = guiCreateLabel(10, 29, 267, 27, "Please Select a Skin You Wish To Purchase\nTo Preview A Skin Double Click On It", false, skinShopListWindow)
guiLabelSetHorizontalAlign(label, "center", true)
guiLabelSetVerticalAlign(label, "center", true)
skinList = guiCreateGridList(9, 57, 268, 412, false, skinShopListWindow)
guiGridListAddColumn(skinList, "Skin Name", 0.7)
guiGridListAddColumn(skinList, "Cost/$", 0.1)
buySkinButton = guiCreateButton(9, 481, 109, 24, "Confirm Purchase", false, skinShopListWindow)
cancelButton = guiCreateButton(168, 481, 109, 24, "Cancel Purchase", false, skinShopListWindow)

function closeTheShop()
	guiSetVisible( skinShopListWindow, false)
	showCursor( false)
	triggerServerEvent( "resetCamera", localPlayer)
end
addEventHandler( "onClientGUIClick", cancelButton, closeTheShop, false)

    setTimer (
        function ( )
            for i,skins in ipairs ( skins ) do
				local skinRow = guiGridListAddRow(skinList)
				guiGridListSetItemText(skinList, skinRow, 1, skins[1], false, false)
				guiGridListSetItemText(skinList, skinRow, 2, skins[2], false, false)
				guiGridListSetItemData(skinList, skinRow, 2, skins[2])
				guiGridListSetItemData(skinList, skinRow, 1, skins[3])
            end
        end, 1000, 1
    )

function viewSkin()
    local row, col = guiGridListGetSelectedItem(skinList)
    if (row and col and row ~= -1 and col ~= -1) then
		local models = tonumber(guiGridListGetItemData(skinList, row, 1))
        if model ~= "" then
			triggerServerEvent( "setSkin", localPlayer, models)
		end
	end
end
addEventHandler("onClientDoubleClick", root, viewSkin, false)

function buySkin()
    local row, col = guiGridListGetSelectedItem(skinList)
    if (row and col and row ~= -1 and col ~= -1) then
		local models = tonumber(guiGridListGetItemData(skinList, row, 1))
		local costs = tonumber(guiGridListGetItemData(skinList, row, 2))
		local money = getPlayerMoney(localPlayer)
        if model ~= "" then
			local money = getPlayerMoney(source)
			if (money < costs) then
				triggerServerEvent( "failBuy", localPlayer)
			else
				triggerServerEvent( "setSkinBuy", localPlayer, models, costs)
				triggerServerEvent( "resetCamera", localPlayer)
				showCursor( false)
				exports.CRPhelp:takeMoney( localPlayer, costs)
				guiSetVisible( skinShopListWindow, false)
			end
		end
	else
		guiSetText( label, "You must select a skin to buy")
		guiLabelSetColor( label, 255, 0, 0)
		setTimer( guiSetText, 5000, 1, label, "Please Select a Skin You Wish To Purchase\nTo Preview A Skin Double Click On It")
		setTimer( guiLabelSetColor, 5000, 1, label, 255, 255, 255)
	end
end
addEventHandler("onClientGUIClick", buySkinButton, buySkin, false)
